#!/bin/bash
# Quickstart - Single reliable command to generate leads
# Usage: ./quickstart [count] [--show]

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" &> /dev/null && pwd)"
cd "$SCRIPT_DIR"

# Default count
COUNT=${1:-20}
SHOW_FLAG=""

# Check for --show flag
if [[ "$2" == "--show" ]] || [[ "$1" == "--show" ]]; then
    SHOW_FLAG="--show"
    if [[ "$1" == "--show" ]]; then
        COUNT=20
    fi
fi

echo "üöÄ Quick Lead Generator"
echo "======================="
echo "Generating $COUNT qualified leads..."
echo ""

# Run the fast generator directly with system Python
PYTHONPATH="$SCRIPT_DIR" python3 src/pipeline/quick_generator.py "$COUNT" $SHOW_FLAG

exit_code=$?

if [ $exit_code -eq 0 ]; then
    echo ""
    echo "‚úÖ Generation complete! Check output/ directory for results."
else
    echo ""
    echo "‚ùå Generation failed. Check error messages above."
fi

exit $exit_code
